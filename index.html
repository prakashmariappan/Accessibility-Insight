<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Space+Grotesk%3Awght%40400%3B500%3B700"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>Accessibility Insights</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
  </head>
  <body>
    <div class="main-container">
      <div class="layout-container">
        <header class="header">
          <div class="category-nav">
            <nav class="category-links">
              <a href="#">Library</a>
              <a href="">University</a>
              <a href="">Education</a>
              <a class="active" href="./index.html">E-Government</a>
              <a href="#">Social Media</a>
            </nav>
          </div>
          <div class="logonavcomb">
            <a class="logo" href="./index.html">
              <div class="logo-icon"></div>
              <h2 class="site-title">Accessibility Insights</h2>
            </a>
            <nav class="nav-links">
              <a href="./list.html">Top 20 sites</a>
              <a href="./commonerrors.html">Most Common Errors</a>
              <a href="./levelbasederrors.html">Level Based Errors</a>
              <a href="./Waverrors.html">Wave Tool Errors</a>
              <a href="./ACheckererrors.html">AChecker Tool Errors</a>
              <a href="./about.html">About</a>
            </nav>
          </div>
        </header>

        <div class="main-content" id="landingpage">
          <div class="content-container">
            <div class="intro-section">
              <div
                class="intro-image"
                style="
                  background-image: url('https://cdn.usegalileo.ai/stability/73a45937-5314-4b5e-bce1-7eab0731fccd.png');
                "
              ></div>
              <div class="intro-text">
                <h1 class="intro-title">Welcome to Accessibility Insights</h1>
                <p class="intro-subtitle">
                  Our mission is to make the world more accessible for everyone.
                  We do this by providing high quality, accurate and up-to-date
                  data on the accessibility of public places and spaces.
                </p>
              </div>
            </div>

            <div class="article-container">
              <h2 class="latest-title">
                Latest from Website Accessibility Insights
              </h2>
              <article>
                <div class="article-text">
                  <p>15 min read</p>
                  <p class="article-title">Web Accessibility Best Practices</p>
                  <p>How to make your website more accessible to everyone</p>
                  <button class="read-more">Read more</button>
                </div>
                <div
                  class="article-image"
                  style="
                    background-image: url('https://cdn.usegalileo.ai/stability/73f9cad2-9e2c-47b4-bb46-7e69d8e9be89.png');
                  "
                ></div>
              </article>
            </div>
            <div class="article-container">
              <article>
                <div class="article-text">
                  <p>8 min read</p>
                  <p class="article-title">
                    Why web accessibility is important
                  </p>
                  <p>
                    Learn about the importance of web accessibility and how to
                    make your website more accessible to everyone
                  </p>
                  <button class="read-more">Read more</button>
                </div>
                <div
                  class="article-image"
                  style="
                    background-image: url('https://cdn.usegalileo.ai/stability/b53bd972-2f2f-4cf3-94d6-f6db9c3cb85d.png');
                  "
                ></div>
              </article>
            </div>

            <div class="article-container">
              <h2 class="latest-title">
                List of evaluated Websites based on category
              </h2>
              <article class="category-article">
                <div class="bold">Select the type of Category</div>
                <div class="category-parent-con">
                  <div class="category-box lib">
                    <p>Library</p>
                    <div class="hover-effect"></div>
                  </div>
                  <div class="category-box uni">
                    <p>University</p>
                    <div class="hover-effect"></div>
                  </div>
                  <div class="category-box edu">
                    <p>Education</p>
                    <div class="hover-effect"></div>
                  </div>
                  <div class="category-box egov">
                    <p>E-Government</p>
                    <div class="hover-effect"></div>
                  </div>
                  <div class="category-box sm">
                    <p>Social Media</p>
                    <div class="hover-effect"></div>
                  </div>
                </div>
                <div
                  id="subcategory-container"
                  class="subcategory-container"
                ></div>
                <div class="table-container">
                  <p>Showing list of accessibility evaluated websites</p>
                  <table class="table">
                    <thead>
                      <tr class="table-header">
                        <th class="table-column">No</th>
                        <th class="table-column">Government Name</th>
                        <th class="table-column">Government Type</th>
                        <th class="table-column">Website</th>
                      </tr>
                    </thead>
                    <tbody id="tableBody">
                      <!-- Data will be inserted here dynamically -->
                    </tbody>
                  </table>
                </div>
              </article>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class="footer-column">
          <nav class="footer-nav-links">
            <h2 class="contact-title">Pages</h2>
            <a href="./list.html">Top 20 sites</a>
            <a href="./commonerrors.html">Most Common Errors</a>
            <a href="./levelbasederrors.html">Level Based Errors</a>
            <a href="./Waverrors.html">Wave Tool Errors</a>
            <a href="./ACheckererrors.html">AChecker Tool Errors</a>
            <a href="./about.html">About</a>
          </nav>

          <nav class="contact-links">
            <h2 class="contact-title">Contact</h2>
            <a href="mailto:info@example.com">info@example.com</a>
            <a href="tel:+1234567890">+1 234 567 890</a>
            <a href="https://twitter.com/example" target="_blank">Twitter</a>
            <a href="https://linkedin.com/in/example" target="_blank"
              >LinkedIn</a
            >
          </nav>
        </div>
        <div class="creator-con">
          <a class="footer-title" href="#landingpage">Accessibility Insights</a>
          <a class="creator-name">Developed by Prakash Mariappan</a>
        </div>
      </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      const subcategories = {
        lib: ["Library Subcategory 1", "Library Subcategory 2"],
        uni: ["University Subcategory 1", "University Subcategory 2"],
        edu: ["Education Subcategory 1", "Education Subcategory 2"],
        egov: ["E-Government Subcategory 1", "E-Government Subcategory 2"],
        sm: ["Social Media Subcategory 1", "Social Media Subcategory 2"],
      };

      document.querySelectorAll(".category-box").forEach((box) => {
        box.addEventListener("click", (event) => {
          event.stopPropagation();

          const category = box.classList[1];
          const subcategoryContainer = document.getElementById(
            "subcategory-container"
          );
          subcategoryContainer.innerHTML =
            "<p>Select the type of Sub Category :</p>";

          if (subcategories[category]) {
            subcategories[category].forEach((subcategory) => {
              const subcategoryDiv = document.createElement("div");
              subcategoryDiv.classList.add("subcategory-box");
              subcategoryDiv.textContent = subcategory;
              subcategoryContainer.appendChild(subcategoryDiv);

              subcategoryDiv.addEventListener("click", () => {
                if (subcategory === "E-Government Subcategory 1") {
                  loadDataAndDisplayTable(subcategory);
                } else {
                  document.querySelector(".table-container").style.display =
                    "none"; // Hide the table-container if other subcategories are clicked
                }
              });
            });
          }

          subcategoryContainer.style.display = "flex";
        });
      });

      document.addEventListener("click", (event) => {
        const categoryArticle = document.querySelector(".category-article");
        const subcategoryContainer = document.getElementById(
          "subcategory-container"
        );

        if (!categoryArticle.contains(event.target)) {
          subcategoryContainer.style.display = "none";
          document.querySelector(".table-container").style.display = "none"; // Hide the table-container
        }
      });

      async function loadDataAndDisplayTable(subcategory) {
        const tableContainer = document.querySelector(".table-container");
        const tableBody = document.getElementById("tableBody");

        const response = await fetch("usdata.xlsx");
        const data = await response.arrayBuffer();

        const workbook = XLSX.read(data, { type: "array" });
        const firstSheetName = workbook.SheetNames[0];
        const worksheet = workbook.Sheets[firstSheetName];
        const tableData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });

        if (tableData.length > 0) {
          tableBody.innerHTML = "";

          tableData.forEach((row, index) => {
            if (row[1] && row[2] && row[3]) {
              const tr = document.createElement("tr");
              tr.classList.add("table-row");
              const websiteUrl = row[2].replace(/^https?:\/\//, ""); // Remove 'https://'

              tr.innerHTML = `
          <td class="table-column">${index + 1}</td>
          <td class="table-column">${row[1]}</td>
          <td class="table-column">${row[3]}</td>
          <td class="table-column"><a class='site-link' href="${
            row[2]
          }" target="_blank">${websiteUrl}</a></td>
        `;
              tableBody.appendChild(tr);
            }
          });

          tableContainer.style.display = "block"; // Show the table-container
        }
      }
    </script>
  </body>
</html>
